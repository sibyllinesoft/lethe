import{r as K,R as d}from"./index-8b3efc3f.js";import{S as G,r as at,a as L,L as T,s as ot,A as st,i as I,b as ct,f as U,g as B,t as lt,C as ut,c as w,d as pt,G as ft,e as X,u as yt,E as mt,m as dt}from"./generateCategoricalChart-ec1bcc95.js";import{i as vt}from"./mapValues-fb986170.js";import{c as ht}from"./charts-bbe52c79.js";function _(e){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(e)}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nt(n.key),n)}}function At(e,t,r){return t&&Y(e.prototype,t),r&&Y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ot(e,t,r){return t=N(t),xt(e,tt()?Reflect.construct(t,r||[],N(e).constructor):t.apply(e,r))}function xt(e,t){if(t&&(_(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gt(e)}function gt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tt=function(){return!!e})()}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N(e)}function Pt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},C(e,t)}function et(e,t,r){return t=nt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nt(e){var t=St(e,"string");return _(t)=="symbol"?t:t+""}function St(e,t){if(_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W=function(e){function t(){return bt(this,t),Ot(this,t,arguments)}return Pt(t,e),At(t,[{key:"render",value:function(){return null}}])}(K.Component);et(W,"displayName","ZAxis");et(W,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var wt=["option","isActive"];function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z.apply(this,arguments)}function _t(e,t){if(e==null)return{};var r=jt(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Et(e){var t=e.option,r=e.isActive,n=_t(e,wt);return typeof t=="string"?K.createElement(G,z({option:K.createElement(at,z({type:t},n)),isActive:r,shapeType:"symbols"},n)):K.createElement(G,z({option:t,isActive:r,shapeType:"symbols"},n))}function j(e){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(e)}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D.apply(this,arguments)}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(n){P(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,it(n.key),n)}}function Kt(e,t,r){return t&&Q(e.prototype,t),r&&Q(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zt(e,t,r){return t=R(t),Dt(e,rt()?Reflect.construct(t,r||[],R(e).constructor):t.apply(e,r))}function Dt(e,t){if(t&&(j(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $t(e)}function $t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rt=function(){return!!e})()}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R(e)}function It(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z(e,t)}function P(e,t,r){return t=it(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function it(e){var t=Bt(e,"string");return j(t)=="symbol"?t:t+""}function Bt(e,t){if(j(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(j(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q=function(e){function t(){var r;Tt(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=zt(this,t,[].concat(i)),P(r,"state",{isAnimationFinished:!1}),P(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),P(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),P(r,"id",yt("recharts-scatter-")),r}return It(t,e),Kt(t,[{key:"renderSymbolsStatically",value:function(n){var i=this,a=this.props,p=a.shape,x=a.activeShape,y=a.activeIndex,f=L(this.props,!1);return n.map(function(o,s){var u=y===s,c=u?x:p,m=O(O({},f),o);return d.createElement(T,D({className:"recharts-scatter-symbol",key:"symbol-".concat(o==null?void 0:o.cx,"-").concat(o==null?void 0:o.cy,"-").concat(o==null?void 0:o.size,"-").concat(s)},ot(i.props,o,s),{role:"img"}),d.createElement(Et,D({option:c,isActive:u,key:"symbol-".concat(s)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,a=i.points,p=i.isAnimationActive,x=i.animationBegin,y=i.animationDuration,f=i.animationEasing,o=i.animationId,s=this.state.prevPoints;return d.createElement(st,{begin:x,duration:y,isActive:p,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(o),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(u){var c=u.t,m=a.map(function(v,h){var b=s&&s[h];if(b){var A=I(b.cx,v.cx),l=I(b.cy,v.cy),g=I(b.size,v.size);return O(O({},v),{},{cx:A(c),cy:l(c),size:g(c)})}var S=I(0,v.size);return O(O({},v),{},{size:S(c)})});return d.createElement(T,null,n.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,p=this.state.prevPoints;return a&&i&&i.length&&(!p||!ct(p,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,p=i.xAxis,x=i.yAxis,y=i.children,f=U(y,mt);return f?f.map(function(o,s){var u=o.props,c=u.direction,m=u.dataKey;return d.cloneElement(o,{key:"".concat(c,"-").concat(m,"-").concat(a[s]),data:a,xAxis:p,yAxis:x,layout:c==="x"?"vertical":"horizontal",dataPointFormatter:function(h,b){return{x:h.cx,y:h.cy,value:c==="x"?+h.node.x:+h.node.y,errorVal:B(h,b)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,a=n.line,p=n.lineType,x=n.lineJointType,y=L(this.props,!1),f=L(a,!1),o,s;if(p==="joint")o=i.map(function(l){return{x:l.cx,y:l.cy}});else if(p==="fitting"){var u=lt(i),c=u.xmin,m=u.xmax,v=u.a,h=u.b,b=function(g){return v*g+h};o=[{x:c,y:b(c)},{x:m,y:b(m)}]}var A=O(O(O({},y),{},{fill:"none",stroke:y&&y.fill},f),{},{points:o});return d.isValidElement(a)?s=d.cloneElement(a,A):vt(a)?s=a(A):s=d.createElement(ut,D({},A,{type:x})),d.createElement(T,{className:"recharts-scatter-line",key:"recharts-scatter-line"},s)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.points,p=n.line,x=n.className,y=n.xAxis,f=n.yAxis,o=n.left,s=n.top,u=n.width,c=n.height,m=n.id,v=n.isAnimationActive;if(i||!a||!a.length)return null;var h=this.state.isAnimationFinished,b=ht("recharts-scatter",x),A=y&&y.allowDataOverflow,l=f&&f.allowDataOverflow,g=A||l,S=w(m)?this.id:m;return d.createElement(T,{className:b,clipPath:g?"url(#clipPath-".concat(S,")"):null},A||l?d.createElement("defs",null,d.createElement("clipPath",{id:"clipPath-".concat(S)},d.createElement("rect",{x:A?o:o-u/2,y:l?s:s-c/2,width:A?u:u*2,height:l?c:c*2}))):null,p&&this.renderLine(),this.renderErrorBar(),d.createElement(T,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||h)&&pt.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])}(K.PureComponent);P(q,"displayName","Scatter");P(q,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ft.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});P(q,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,i=e.item,a=e.displayedData,p=e.xAxisTicks,x=e.yAxisTicks,y=e.offset,f=i.props.tooltipType,o=U(i.props.children,dt),s=w(t.dataKey)?i.props.dataKey:t.dataKey,u=w(r.dataKey)?i.props.dataKey:r.dataKey,c=n&&n.dataKey,m=n?n.range:W.defaultProps.range,v=m&&m[0],h=t.scale.bandwidth?t.scale.bandwidth():0,b=r.scale.bandwidth?r.scale.bandwidth():0,A=a.map(function(l,g){var S=B(l,s),J=B(l,u),E=!w(c)&&B(l,c)||"-",M=[{name:w(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:S,payload:l,dataKey:s,type:f},{name:w(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:J,payload:l,dataKey:u,type:f}];E!=="-"&&M.push({name:n.name||n.dataKey,unit:n.unit||"",value:E,payload:l,dataKey:c,type:f});var F=X({axis:t,ticks:p,bandSize:h,entry:l,index:g,dataKey:s}),k=X({axis:r,ticks:x,bandSize:b,entry:l,index:g,dataKey:u}),V=E!=="-"?n.scale(E):v,$=Math.sqrt(Math.max(V,0)/Math.PI);return O(O({},l),{},{cx:F,cy:k,x:F-$,y:k-$,xAxis:t,yAxis:r,zAxis:n,width:2*$,height:2*$,size:V,node:{x:S,y:J,z:E},tooltipPayload:M,tooltipPosition:{x:F,y:k},payload:l},o&&o[g]&&o[g].props)});return O({points:A},y)});export{q as S,W as Z};
