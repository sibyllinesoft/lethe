import{a,j as e}from"./createLucideIcon-a1714018.js";import{C as N,p as i,T as s,d as t}from"./charts-bbe52c79.js";import{j as v,X as h,Y as u,k as C,R as b,l as z,T as _,m as k}from"./generateCategoricalChart-ec1bcc95.js";import{S as g,Z as T}from"./Scatter-7017bd04.js";var w=v({chartName:"ScatterChart",GraphicalChild:g,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:h},{axisType:"yAxis",AxisComp:u},{axisType:"zAxis",AxisComp:T}],formatAxisMap:C});const p=({data:n,height:x=500,className:f})=>{const c=n.map((r,l)=>({x:r.avg_execution_time,y:r.execution_count,z:r.success_rate,quality:r.avg_quality_score||0,promptId:r.prompt_id,errorCount:r.error_count,responseLength:r.avg_response_length})),d=r=>r>=.9?i.excellent:r>=.8?i.good:r>=.7?i.fair:r>=.6?i.poor:i.critical,m=r=>`${Math.round(r)}ms`,y=({active:r,payload:l})=>{if(r&&l&&l.length){const o=l[0].payload;return a("div",{style:{backgroundColor:t.colors.graphite[900],color:t.colors.graphite[100],border:`1px solid ${t.colors.graphite[700]}`,borderRadius:"8px",boxShadow:t.shadows.large,padding:"12px",fontSize:"12px",fontFamily:t.typography.fontFamily.primary.join(", ")},children:[e(s,{color:"secondary",weight:"semibold",className:"mb-2 text-graphite-100",children:o.promptId}),a("div",{className:"space-y-1",children:[a(s,{size:"sm",className:"text-graphite-200",children:[e("span",{className:"font-medium",children:"Executions:"})," ",o.y.toLocaleString()]}),a(s,{size:"sm",className:"text-graphite-200",children:[e("span",{className:"font-medium",children:"Avg Time:"})," ",m(o.x)]}),a(s,{size:"sm",className:"text-graphite-200",children:[e("span",{className:"font-medium",children:"Success Rate:"})," ",o.z.toFixed(1),"%"]}),a(s,{size:"sm",className:"text-graphite-200",children:[e("span",{className:"font-medium",children:"Quality Score:"})," ",o.quality.toFixed(3)]}),a(s,{size:"sm",className:"text-graphite-200",children:[e("span",{className:"font-medium",children:"Avg Length:"})," ",Math.round(o.responseLength)," chars"]}),a(s,{size:"sm",className:"text-graphite-200",children:[e("span",{className:"font-medium",children:"Errors:"})," ",o.errorCount]})]})]})}return null};return a(N,{title:"Prompt Performance Overview",subtitle:"Quality metrics and execution patterns",className:f,children:[e("div",{className:"mb-6",children:a("div",{className:"flex flex-wrap items-center gap-4",children:[a("div",{className:"flex items-center gap-2",children:[e("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.excellent}}),e(s,{size:"sm",color:"secondary",children:"Excellent (>0.9)"})]}),a("div",{className:"flex items-center gap-2",children:[e("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.good}}),e(s,{size:"sm",color:"secondary",children:"Good (0.8-0.9)"})]}),a("div",{className:"flex items-center gap-2",children:[e("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.fair}}),e(s,{size:"sm",color:"secondary",children:"Fair (0.7-0.8)"})]}),a("div",{className:"flex items-center gap-2",children:[e("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.poor}}),e(s,{size:"sm",color:"secondary",children:"Poor (0.6-0.7)"})]}),a("div",{className:"flex items-center gap-2",children:[e("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.critical}}),e(s,{size:"sm",color:"secondary",children:"Critical (<0.6)"})]})]})}),e(b,{width:"100%",height:x,children:a(w,{margin:{top:20,right:30,left:20,bottom:20},children:[e(z,{strokeDasharray:"3 3",stroke:t.colors.graphite[200],strokeWidth:1}),e(h,{type:"number",dataKey:"x",name:"Avg Execution Time",unit:"ms",tickFormatter:m,stroke:t.colors.graphite[500],fontSize:11,fontFamily:t.typography.fontFamily.primary.join(", "),axisLine:!1,tickLine:!1}),e(u,{type:"number",dataKey:"y",name:"Total Executions",stroke:t.colors.graphite[500],fontSize:11,fontFamily:t.typography.fontFamily.primary.join(", "),axisLine:!1,tickLine:!1}),e(_,{content:e(y,{})}),e(g,{data:c,children:c.map((r,l)=>e(k,{fill:d(r.quality),fillOpacity:.7,stroke:d(r.quality),strokeWidth:1,r:Math.max(6,Math.min(24,r.z/4))},`cell-${l}`))})]})}),a("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a("div",{className:"space-y-1",children:[e(s,{size:"sm",weight:"medium",color:"primary",children:"Chart Guide:"}),e(s,{size:"sm",color:"secondary",children:"X-axis: Average execution time (lower is better)"}),e(s,{size:"sm",color:"secondary",children:"Y-axis: Total executions (higher indicates more usage)"})]}),a("div",{className:"space-y-1",children:[e(s,{size:"sm",weight:"medium",color:"primary",children:"Visual Encoding:"}),e(s,{size:"sm",color:"secondary",children:"Bubble size: Success rate (larger = higher success)"}),e(s,{size:"sm",color:"secondary",children:"Color: Quality score (green = excellent, red = critical)"})]})]})]})};try{p.displayName="PerformanceBubbleChart",p.__docgenInfo={description:`Bubble chart showing prompt performance metrics
Based on PromptDashboard.create_prompt_performance_chart()
Now using sophisticated graphite design system colors
X-axis: Average execution time
Y-axis: Execution count
Bubble size: Success rate
Color: Quality score`,displayName:"PerformanceBubbleChart",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"PromptPerformance[]"}},height:{defaultValue:{value:"500"},description:"",name:"height",required:!1,type:{name:"number | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}}}}}catch{}export{p as P};
