import{a as g,j as p}from"./createLucideIcon-a1714018.js";import{c as se,C as he,a as T,T as N,d as A}from"./charts-bbe52c79.js";import{G as ye,a as I,L as $,o as G,p as B,C as Y,A as ve,i as F,c as ee,q as ge,b as te,h as be,d as xe,g as ae,e as re,D as Ae,u as _e,j as Pe,B as le,X as ce,Y as H,k as Oe,R as ke,l as Ne,T as we}from"./generateCategoricalChart-ec1bcc95.js";import{R as m,r as Se}from"./index-8b3efc3f.js";import{i as Q}from"./mapValues-fb986170.js";import{L as ue}from"./Line-c0585f89.js";import{S as Ce,Z as Ee}from"./Scatter-7017bd04.js";var je=["layout","type","stroke","connectNulls","isRange","ref"],Le=["key"],de;function W(e){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(e)}function pe(e,t){if(e==null)return{};var r=De(e,t),a,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)a=o[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function De(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},M.apply(this,arguments)}function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ie(Object(r),!0).forEach(function(a){S(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,fe(a.key),a)}}function ze(e,t,r){return t&&ne(e.prototype,t),r&&ne(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Re(e,t,r){return t=X(t),Te(e,me()?Reflect.construct(t,r||[],X(e).constructor):t.apply(e,r))}function Te(e,t){if(t&&(W(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ie(e)}function Ie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(me=function(){return!!e})()}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X(e)}function Fe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},Z(e,t)}function S(e,t,r){return t=fe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fe(e){var t=Be(e,"string");return W(t)=="symbol"?t:t+""}function Be(e,t){if(W(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(W(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z=function(e){function t(){var r;Me(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=Re(this,t,[].concat(i)),S(r,"state",{isAnimationFinished:!0}),S(r,"id",_e("recharts-area-")),S(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Q(s)&&s()}),S(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Q(s)&&s()}),r}return Fe(t,e),ze(t,[{key:"renderDots",value:function(a,i,o){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var n=this.props,c=n.dot,d=n.points,u=n.dataKey,f=I(this.props,!1),_=I(c,!0),P=d.map(function(v,w){var b=L(L(L({key:"dot-".concat(w),r:3},f),_),{},{index:w,cx:v.x,cy:v.y,dataKey:u,value:v.value,payload:v.payload,points:d});return t.renderDotItem(c,b)}),O={clipPath:a?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return m.createElement($,M({className:"recharts-area-dots"},O),P)}},{key:"renderHorizontalRect",value:function(a){var i=this.props,o=i.baseLine,s=i.points,l=i.strokeWidth,n=s[0].x,c=s[s.length-1].x,d=a*Math.abs(n-c),u=G(s.map(function(f){return f.y||0}));return B(o)&&typeof o=="number"?u=Math.max(o,u):o&&Array.isArray(o)&&o.length&&(u=Math.max(G(o.map(function(f){return f.y||0})),u)),B(u)?m.createElement("rect",{x:n<c?n:n-d,y:0,width:d,height:Math.floor(u+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(a){var i=this.props,o=i.baseLine,s=i.points,l=i.strokeWidth,n=s[0].y,c=s[s.length-1].y,d=a*Math.abs(n-c),u=G(s.map(function(f){return f.x||0}));return B(o)&&typeof o=="number"?u=Math.max(o,u):o&&Array.isArray(o)&&o.length&&(u=Math.max(G(o.map(function(f){return f.x||0})),u)),B(u)?m.createElement("rect",{x:0,y:n<c?n:n-d,width:u+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(a){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(a):this.renderHorizontalRect(a)}},{key:"renderAreaStatically",value:function(a,i,o,s){var l=this.props,n=l.layout,c=l.type,d=l.stroke,u=l.connectNulls,f=l.isRange;l.ref;var _=pe(l,je);return m.createElement($,{clipPath:o?"url(#clipPath-".concat(s,")"):null},m.createElement(Y,M({},I(_,!0),{points:a,connectNulls:u,type:c,baseLine:i,layout:n,stroke:"none",className:"recharts-area-area"})),d!=="none"&&m.createElement(Y,M({},I(this.props,!1),{className:"recharts-area-curve",layout:n,type:c,connectNulls:u,fill:"none",points:a})),d!=="none"&&f&&m.createElement(Y,M({},I(this.props,!1),{className:"recharts-area-curve",layout:n,type:c,connectNulls:u,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(a,i){var o=this,s=this.props,l=s.points,n=s.baseLine,c=s.isAnimationActive,d=s.animationBegin,u=s.animationDuration,f=s.animationEasing,_=s.animationId,P=this.state,O=P.prevPoints,v=P.prevBaseLine;return m.createElement(ve,{begin:d,duration:u,isActive:c,easing:f,from:{t:0},to:{t:1},key:"area-".concat(_),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var b=w.t;if(O){var E=O.length/l.length,h=l.map(function(k,R){var D=Math.floor(R*E);if(O[D]){var j=O[D],V=F(j.x,k.x),q=F(j.y,k.y);return L(L({},k),{},{x:V(b),y:q(b)})}return k}),y;if(B(n)&&typeof n=="number"){var x=F(v,n);y=x(b)}else if(ee(n)||ge(n)){var C=F(v,0);y=C(b)}else y=n.map(function(k,R){var D=Math.floor(R*E);if(v[D]){var j=v[D],V=F(j.x,k.x),q=F(j.y,k.y);return L(L({},k),{},{x:V(b),y:q(b)})}return k});return o.renderAreaStatically(h,y,a,i)}return m.createElement($,null,m.createElement("defs",null,m.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(b))),m.createElement($,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(l,n,a,i)))})}},{key:"renderArea",value:function(a,i){var o=this.props,s=o.points,l=o.baseLine,n=o.isAnimationActive,c=this.state,d=c.prevPoints,u=c.prevBaseLine,f=c.totalLength;return n&&s&&s.length&&(!d&&f>0||!te(d,s)||!te(u,l))?this.renderAreaWithAnimation(a,i):this.renderAreaStatically(s,l,a,i)}},{key:"render",value:function(){var a,i=this.props,o=i.hide,s=i.dot,l=i.points,n=i.className,c=i.top,d=i.left,u=i.xAxis,f=i.yAxis,_=i.width,P=i.height,O=i.isAnimationActive,v=i.id;if(o||!l||!l.length)return null;var w=this.state.isAnimationFinished,b=l.length===1,E=se("recharts-area",n),h=u&&u.allowDataOverflow,y=f&&f.allowDataOverflow,x=h||y,C=ee(v)?this.id:v,k=(a=I(s,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},R=k.r,D=R===void 0?3:R,j=k.strokeWidth,V=j===void 0?2:j,q=be(s)?s:{},J=q.clipDot,U=J===void 0?!0:J,K=D*2+V;return m.createElement($,{className:E},h||y?m.createElement("defs",null,m.createElement("clipPath",{id:"clipPath-".concat(C)},m.createElement("rect",{x:h?d:d-_/2,y:y?c:c-P/2,width:h?_:_*2,height:y?P:P*2})),!U&&m.createElement("clipPath",{id:"clipPath-dots-".concat(C)},m.createElement("rect",{x:d-K/2,y:c-K/2,width:_+K,height:P+K}))):null,b?null:this.renderArea(x,C),(s||b)&&this.renderDots(x,U,C),(!O||w)&&xe.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,curBaseLine:a.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:a.points!==i.curPoints||a.baseLine!==i.curBaseLine?{curPoints:a.points,curBaseLine:a.baseLine}:null}}])}(Se.PureComponent);de=z;S(z,"displayName","Area");S(z,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ye.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});S(z,"getBaseValue",function(e,t,r,a){var i=e.layout,o=e.baseValue,s=t.props.baseValue,l=s??o;if(B(l)&&typeof l=="number")return l;var n=i==="horizontal"?a:r,c=n.scale.domain();if(n.type==="number"){var d=Math.max(c[0],c[1]),u=Math.min(c[0],c[1]);return l==="dataMin"?u:l==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return l==="dataMin"?c[0]:l==="dataMax"?c[1]:c[0]});S(z,"getComposedData",function(e){var t=e.props,r=e.item,a=e.xAxis,i=e.yAxis,o=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,n=e.dataKey,c=e.stackedData,d=e.dataStartIndex,u=e.displayedData,f=e.offset,_=t.layout,P=c&&c.length,O=de.getBaseValue(t,r,a,i),v=_==="horizontal",w=!1,b=u.map(function(h,y){var x;P?x=c[d+y]:(x=ae(h,n),Array.isArray(x)?w=!0:x=[O,x]);var C=x[1]==null||P&&ae(h,n)==null;return v?{x:re({axis:a,ticks:o,bandSize:l,entry:h,index:y}),y:C?null:i.scale(x[1]),value:x,payload:h}:{x:C?null:a.scale(x[1]),y:re({axis:i,ticks:s,bandSize:l,entry:h,index:y}),value:x,payload:h}}),E;return P||w?E=b.map(function(h){var y=Array.isArray(h.value)?h.value[0]:null;return v?{x:h.x,y:y!=null&&h.y!=null?i.scale(y):null}:{x:y!=null?a.scale(y):null,y:h.y}}):E=v?i.scale(O):a.scale(O),L({points:b,baseLine:E,layout:_,isRange:w},f)});S(z,"renderDotItem",function(e,t){var r;if(m.isValidElement(e))r=m.cloneElement(e,t);else if(Q(e))r=e(t);else{var a=se("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,o=pe(t,Le);r=m.createElement(Ae,M({},o,{key:i,className:a}))}return r});var We=Pe({chartName:"ComposedChart",GraphicalChild:[ue,z,le,Ce],axisComponents:[{axisType:"xAxis",AxisComp:ce},{axisType:"yAxis",AxisComp:H},{axisType:"zAxis",AxisComp:Ee}],formatAxisMap:Oe});const oe=({data:e,height:t=400,className:r})=>{const a=n=>n.replace("gpt-4-turbo-preview","GPT-4 Turbo").replace("gpt-3.5-turbo","GPT-3.5").replace("claude-3-opus-20240229","Claude Opus").replace("claude-3-sonnet-20240229","Claude Sonnet").replace("claude-3-haiku-20240307","Claude Haiku").replace("gemini-pro","Gemini Pro"),i=e.map(n=>({...n,model_display:a(n.model_name),quality_score_scaled:(n.avg_quality_score||0)*1e3})),o=n=>`${Math.round(n)}ms`,s=n=>(n/1e3).toFixed(3),l=({active:n,payload:c,label:d})=>{if(n&&c&&c.length){const u=c[0].payload;return g("div",{style:{backgroundColor:A.colors.graphite[900],color:A.colors.graphite[100],border:`1px solid ${A.colors.graphite[700]}`,borderRadius:"8px",boxShadow:A.shadows.large,padding:"12px",fontSize:"12px",fontFamily:A.typography.fontFamily.primary.join(", ")},children:[p(N,{weight:"semibold",className:"mb-2 text-graphite-100",children:u.model_name}),g("div",{className:"space-y-1",children:[g(N,{size:"sm",className:"text-graphite-200",children:[p("span",{className:"font-medium",children:"Executions:"})," ",u.execution_count.toLocaleString()]}),g(N,{size:"sm",className:"text-graphite-200",children:[p("span",{className:"font-medium",children:"Avg Time:"})," ",o(u.avg_execution_time)]}),g(N,{size:"sm",className:"text-graphite-200",children:[p("span",{className:"font-medium",children:"Quality Score:"})," ",(u.avg_quality_score||0).toFixed(3)]}),g(N,{size:"sm",className:"text-graphite-200",children:[p("span",{className:"font-medium",children:"Avg Length:"})," ",Math.round(u.avg_response_length)," chars"]}),g(N,{size:"sm",className:"text-graphite-200",children:[p("span",{className:"font-medium",children:"Errors:"})," ",u.error_count]})]})]})}return null};return g(he,{title:"Model Performance Comparison",subtitle:"Execution time vs quality score analysis",className:r,children:[p("div",{className:"mb-6",children:g("div",{className:"flex flex-wrap items-center gap-4",children:[g("div",{className:"flex items-center gap-2",children:[p("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:T.primary[0]}}),p(N,{size:"sm",color:"secondary",children:"Execution Time (bars)"})]}),g("div",{className:"flex items-center gap-2",children:[p("div",{className:"w-3 h-1 rounded-full",style:{backgroundColor:T.error[0]}}),p(N,{size:"sm",color:"secondary",children:"Quality Score (line)"})]})]})}),p(ke,{width:"100%",height:t,children:g(We,{data:i,margin:{top:20,right:30,left:20,bottom:5},children:[p(Ne,{strokeDasharray:"3 3",stroke:A.colors.graphite[200],strokeWidth:1}),p(ce,{dataKey:"model_display",stroke:A.colors.graphite[500],fontSize:11,fontFamily:A.typography.fontFamily.primary.join(", "),angle:-45,textAnchor:"end",height:80,axisLine:!1,tickLine:!1}),p(H,{yAxisId:"left",orientation:"left",stroke:A.colors.graphite[500],fontSize:11,fontFamily:A.typography.fontFamily.primary.join(", "),tickFormatter:o,axisLine:!1,tickLine:!1}),p(H,{yAxisId:"right",orientation:"right",stroke:A.colors.graphite[500],fontSize:11,fontFamily:A.typography.fontFamily.primary.join(", "),tickFormatter:s,axisLine:!1,tickLine:!1}),p(we,{content:p(l,{})}),p(le,{yAxisId:"left",dataKey:"avg_execution_time",fill:T.primary[0],radius:[3,3,0,0]}),p(ue,{yAxisId:"right",type:"monotone",dataKey:"quality_score_scaled",stroke:T.error[0],strokeWidth:2.5,dot:{fill:A.colors.surface.primary,stroke:T.error[0],strokeWidth:2,r:4},activeDot:{fill:T.error[0],stroke:A.colors.surface.primary,strokeWidth:2,r:6}})]})}),g("div",{className:"mt-6 space-y-1",children:[g(N,{size:"sm",color:"secondary",children:[p("span",{className:"font-medium text-graphite-700",children:"Left axis (bars):"})," Average execution time in milliseconds"]}),g(N,{size:"sm",color:"secondary",children:[p("span",{className:"font-medium text-graphite-700",children:"Right axis (line):"})," Average quality score (0-1 scale)"]}),g(N,{size:"sm",color:"secondary",children:[p("span",{className:"font-medium text-graphite-700",children:"Goal:"})," Lower execution time with higher quality score"]})]})]})};try{oe.displayName="ModelComparisonChart",oe.__docgenInfo={description:`Model performance comparison chart
Matches the visualization from PromptDashboard.create_model_comparison_chart()
Combines bar chart for execution time with line chart for quality score`,displayName:"ModelComparisonChart",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ModelComparison[]"}},height:{defaultValue:{value:"400"},description:"",name:"height",required:!1,type:{name:"number | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}}}}}catch{}export{oe as M};
